<!DOCTYPE html>
<html>

<head>
   <meta name="viewport" content="user-scalable=1.0,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
   <title>pell</title>
   <link rel="stylesheet" type="text/css" href="pell.min.css">
   <style>
      body {
         margin: 0;
         padding: 0;
         font-family: sans-serif;
      }

      .content {
         box-sizing: border-box;
         margin: 0 auto;
         max-width: 680px;
         padding: 20px;
      }

      #html-output {
         white-space: pre-wrap;
      }

      #editor {
         width: 40em;
         font-family: sans-serif;
      }

      #source-editor {
         display: none;
      }
   </style>
</head>

<body>
   <div class="content">
      <form action="" method="POST">
         <h1>pellJS Editor <input type="button" class="btn btn-blue btn-s12 btn-10p24 btn-b6" style="float:right;"
               onclick="toggleEditor()" id="btn_lbl" value="Source Editor"></h1>
         <input name="art_id" type="hidden">
         <table width="90%">
            <tr>
               <td>Title</td>
               <td><input class="btn btn-block btn-10p24" type="text" placeholder=""
                     style="border:1px solid #000;text-align:left;color:black" id="title"></td>
            </tr>
         </table>
         <div id="visual-editor">
            <p><b>Editor<b>
                     <div id="editor" class="pell"></div>
         </div>
         <div id="source-editor">
            <p><b>Source Editor<b>
                     <p>
                        <textarea id="html-output" onchange="TextArea()" onblur="TextArea()" rows="20" cols="88"
                           style="resize:none;font-family: sans-serif;"><b>Hello World</b></textarea>
         </div>
         <button id="submit" class="btn btn-green btn-10p24 btn-block" style="float:right;">Source Editor</button>
      </form>
   </div>
   <script src="pell.min.js"></script>
   <script>
      var editor = window.pell.init({
         element: document.getElementById('editor'),
         actions: ['bold', 'italic', 'underline', 'heading1', 'heading2', 'olist', 'ulist', 'link', 'image', 'justifyLeft', 'justifyRight', 'justifyCenter', 'justifyFull'],
         defaultParagraphSeparator: 'p',
         onChange: function (html) {
            document.getElementById('html-output').value = html
         }
      })
      editor.content.innerHTML = document.getElementById('html-output').value
      function TextArea() {
         editor.content.innerHTML = document.getElementById('html-output').value
      } function toggleEditor() {
         if (document.getElementById("source-editor").style.display == "none") {
            document.getElementById("source-editor").style.display = "block";
            document.getElementById("visual-editor").style.display = "none";
            document.getElementById("btn_lbl").value = "Visual Editor";
         } else {
            document.getElementById("source-editor").style.display = "none";
            document.getElementById("visual-editor").style.display = "block";
            document.getElementById("btn_lbl").value = "Source Editor";
         }
      }
   </script>
   <!-- <script type="module" src="https://www.gstatic.com/firebasejs/9.8.0/firebase-app.js"></script>
<script type="module" src="https://www.gstatic.com/firebasejs/9.8.0/firebase-firestore.js"></script> -->
   <script type="module">

     
      //   import {getFirestore,collection,addDoc} from "https://www.gstatic.com/firebasejs/9.8.0/firebase-firestore.js";
      //   import {getAuth,createUserWithEmailAndPassword} from "https://www.gstatic.com/firebasejs/9.8.0/firebase-auth.js"
      const firebaseConfig = {
         apiKey: "AIzaSyBPxh7lV0Scm_CjGMHwdDgfgqpyUpHjrVE",
         authDomain: "users-d48a7.firebaseapp.com",
         databaseURL: "https://users-d48a7-default-rtdb.firebaseio.com",
         projectId: "users-d48a7",
         storageBucket: "users-d48a7.appspot.com",
         messagingSenderId: "765546780232",
         appId: "1:765546780232:web:4768c8ba986fcfe32eea7d",
         measurementId: "G-C7YWHVJ1RF"
      };
       
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.0/firebase-app.js";
      import { getDatabase, set, ref, push } from "https://www.gstatic.com/firebasejs/9.8.0/firebase-database.js";
      import {getFirestore,collection, addDoc } from "https://www.gstatic.com/firebasejs/9.8.0/firebase-firestore.js"; 
      const app = initializeApp(firebaseConfig);

      const db = getFirestore(app);
      const data = document.getElementById('html-output').value;
      const tit = document.getElementById('title').value;

         try {
  const docRef = await addDoc(collection(db, "tit"), {
 titles:tit,
 datas :data
 
  });
  console.log("Document written with ID: ", tit);
} catch (e) {
  console.log("Error adding document: ", e);
}
      
   </script>
</body>

</html>